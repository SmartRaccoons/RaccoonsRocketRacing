<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link href='../../public/d/css/screen.css' rel='stylesheet' />
    <link rel="stylesheet" href="../../node_modules/mocha/mocha.css" />
    <style>
        body {
            background: #aaa;
        }
    </style>
</head>
<body>
<div id="mocha"></div>
<script>
    if (window.mochaPhantomJS) {
        (function () {
            var bind,
                    slice = [].slice;
            bind = function bind(obj) {
                var args = slice.call(arguments, 1),
                        self = this,
                        nop = function () {
                        },
                        bound = function () {
                            return self.apply(this instanceof nop ? this : (obj || {}), args.concat(slice.call(arguments)));
                        };
                nop.prototype = this.prototype || {}; // Firefox cries sometimes if prototype is undefined
                bound.prototype = new nop();
                return bound;
            };
            Function.prototype.bind = bind;
        })();
    }

</script>
<script src="../../bower_components/jquery/dist/jquery.js"></script>
<script src="../../bower_components/power-assert/build/power-assert.js"></script>
<script src="../../bower_components/sinonjs/sinon.js"></script>

<script src="../../bower_components/lodash/lodash.js"></script>
<script src="../../node_modules/backbone/backbone.js"></script>
<script src="../../public/d/js/backbone-patch.js"></script>

<!--<script src="../../bower_components/pixi.js/bin/pixi.js"></script>-->
<script src="../../bower_components/babylonjs/dist/babylon.2.2.js"></script>

<script src="../../public/d/js/init.js"></script>
<script src="../../public/d/locale/en.js"></script>

<script src="../../game/index.js"></script>
<script src="../../game/client.js"></script>

<script src="../../public/d/js/objects.js"></script>
<script src="../../public/d/js/rooms.js"></script>
<script src="../../public/d/js/router.js"></script>

<script src="../../node_modules/expect.js/index.js"></script>
<script src="../../node_modules/mocha/mocha.js"></script>
<script>
    var _lPrev = window._l;
    window._l = function(key, params){
        var r = _lPrev(key, params);
        if(!r){
            console.info('translate: '+key+' ; params: '+params);
        }
        return r;
    }

</script>
<script>mocha.setup({'ui': 'bdd', ignoreLeaks: true})</script>

<script src="test.objects.js"></script>
<script src="test.game.js"></script>
<script src="test.game.client.js"></script>
<script src="test.rooms.js"></script>
<script src="test.router.js"></script>

<script>
    if (window.mochaPhantomJS) {mochaPhantomJS.run(); }
    else { mocha.run(); }
</script>
</body>
</html>