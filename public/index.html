<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <meta content='text/html;charset=utf-8' http-equiv='Content-Type' />
        <link rel='stylesheet' href='d/c.css?{version}' />
        <!--[if lt IE 9]>
            <script src='http://html5shim.googlecode.com/svn/trunk/html5.js'></script>
        <![endif]-->
        <script>
            var _gaq = _gaq || [], oldOnerrror = window.onerror;
            window.onerror = function(msg, url, line) {
                var message = navigator.userAgent + ' -> ' + url + " : " + line + ' (' + window.location + ')';
                _gaq.push(['_trackEvent', 'JS Error', msg, message, 0, true]);
                if(oldOnerrror) return oldOnerrror(msg, url, line);
                return false;
            };
        </script>
    </head>
    <body>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.0/jquery.min.js"></script>
        <script src='d/j.js?{version}'></script>
        <script>
            (function() {
                var r = new App.Router({el: $('body')});
                r.start();
                var socket = io.connect('', {'sync disconnect on unload': true});
                var emit = socket.emit;
                socket.emit = function() {
                    emit.apply(socket, arguments);
                };
                var $emit = socket.$emit;
                socket.$emit = function(evt) {
                    App.socket.receive.trigger.apply(App.socket.receive, Array.prototype.slice.apply(arguments));
                    $emit.apply(socket, arguments);
                };
                App.socket.send.on('all', function(){
                    socket.emit.apply(socket, Array.prototype.slice.call(arguments));
                });
            })();
        </script>
    </body>
</html>